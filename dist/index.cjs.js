"use strict";function e(e,t,r,i,n,s){return e?[["c",...t],r?["a",e,e,0,0,1,...i.map((e=>e*r))]:[],["c",...n]]:[["l",...s]]}Object.defineProperty(exports,"__esModule",{value:!0});var t,r=new class{elements=new Map;constructor(){this.elements=new Map}addElement(e,t,r){this.unobserve(e);const{observe:i=!0,draw:n=!0,onResize:s}=t;if(i){let t=null,i=null;const o=new ResizeObserver((e=>{for(const o of e){const e=o.target.getBoundingClientRect();t===e.width&&i===e.height||(n&&r({width:e.width,height:e.height}),s?.(e,o.target),t=e.width,i=e.height)}}));o.observe(e),this.elements.set(e,{draw:r,element:e,observer:o})}return r}draw(e){e?this.elements.get(e)?.draw?.():this.elements.forEach((e=>e.draw?.()))}unobserve(e){const t=t=>{const r=this.elements.get(t);if(r){const{observer:t}=r;t?.disconnect(),this.elements.delete(e)}};e?t(e):this.elements.forEach((([,e])=>t(e)))}};function i({width:t=0,height:r=0,smoothing:i=1,radius:n=0,offset:s=0,type:o=exports.CornerType.Squircle,precision:a=4,isArray:h=!1}){if(!t||!r)return h?[]:"";const c=o===exports.CornerType.Squircle,d=Array.isArray(s)?s:[s,s,s,s],[l,p,u,g]=d,f=t-g-p,m=r-l-u,b=.5*Math.min(f,m),w=(Array.isArray(n)?n:[n,n,n,n]).map(((e,t)=>Math.max(0,Math.min(e-d[t],b))));let y;switch(o){case exports.CornerType.Round:y=y=function({width:e,height:t,radii:r,offsets:i}){const[n,,,s]=i,[o,a,h,c]=r;return[["M",s+c,n],["L",e-a+s,n],["A",a,a,0,0,1,e+s,n+a],["L",e+s,t-h+n],["A",h,h,0,0,1,e-h+s,t+n],["L",s+c,t+n],["A",c,c,0,0,1,s,t-c+n],["L",s,n+o],["A",o,o,0,0,1,s+o,n],["Z"]]}({width:f,height:m,radii:w,offsets:d});break;case exports.CornerType.Flat:y=y=function({width:e,height:t,radii:r,offsets:i}){const[n,,,s]=i,[o,a,h,c]=r;return[["M",s+o,n],["L",e-a+s,n],["L",e+s,n+a],["L",e+s,t-h+n],["L",e-h+s,t+n],["L",s+c,t+n],["L",s,t-c+n],["L",s,n+o],["Z"]]}({width:f,height:m,radii:w,offsets:d});break;case exports.CornerType.Squircle:case exports.CornerType.FigmaSquircle:default:y=function({width:t,height:r,smoothing:i,radii:n,offsets:s,preserveSmoothing:o}){const[a,,,h]=s,[c,d,l,p]=n.map((e=>function(e,t,r,i){let n=(1+t)*e;r||(t=Math.min(t,i/e-1),n=Math.min(n,i));const s=.5*Math.PI*(1-t),o=Math.sin(s/2)*e*2**.5,a=.25*Math.PI*t,h=e*Math.tan(.25*(.5*Math.PI-s))*Math.cos(a),c=h*Math.tan(a);let d=(n-o-h-c)/3,l=2*d;if(r&&n>i){const e=i-c-o-h,t=e-e/6;d=Math.min(d,t),l=e-d,n=Math.min(n,i)}return{a:l,b:d,c:h,d:c,p:n,arcLength:o,radius:e,ab:l+d,bc:d+h,abc:l+d+h}}(e,i,o,.5*Math.min(t,r))));return[["M",t-d.p+h,a],...e(d.radius,[d.a,0,d.ab,0,d.abc,d.d],d.arcLength,[1,1],[d.d,d.c,d.d,d.bc,d.d,d.abc],[d.p,0]),["L",t+h,r-l.p+a],...e(l.radius,[0,l.a,0,l.ab,-l.d,l.abc],l.arcLength,[-1,1],[-l.c,l.d,-l.bc,l.d,-l.abc,l.d],[0,l.p]),["L",p.p+h,r+a],...e(p.radius,[-p.a,0,-p.ab,0,-p.abc,-p.d],p.arcLength,[-1,-1],[-p.d,-p.c,-p.d,-p.bc,-p.d,-p.abc],[-p.p,0]),["L",h,c.p+a],...e(c.radius,[0,-c.a,0,-c.ab,c.d,-c.abc],c.arcLength,[1,-1],[c.c,-c.d,c.bc,-c.d,c.abc,-c.d],[0,-c.p]),["Z"]]}({width:f,height:m,smoothing:i,radii:w,offsets:d,preserveSmoothing:c})}return y=y.filter((e=>e[0])).map((([e,...t])=>{const r=t.map((e=>Number.isFinite(e)?Number(e.toFixed(a)):e)),i=[e,h?r:r.join(" ")];return h?i:i.join("")})),h?y:y.join("")}exports.CornerType=void 0,(t=exports.CornerType||(exports.CornerType={})).Squircle="squircle",t.FigmaSquircle="figma-squircle",t.Flat="flat",t.Round="round",exports.addCorners=function(e,t){const n=r=>{if(!t.width||!t.height){const r=e.getBoundingClientRect();t.width=r.width,t.height=r.height}const n={...t,...r};n.isRounded&&(n.width=n.width?Math.round(n.width):void 0,n.height=n.height?Math.round(n.height):void 0),t.clip&&(e.style.clipPath=`path('${i(n)}')`),(t.color||t.border)&&(e.style.backgroundImage=function(e){const{border:t=[],offset:r=0,strokeDrawType:n=0,color:s,clip:o,clipID:a,width:h,height:c}=e,d=[],l=Array.isArray(t?.[0])?t:[t],p=Array.isArray(r)?r:[r,r,r,r],u=i(e);if(l?.length){let t=0;const a=[];for(let s=0;s<l.length;s++){const[o,h]=l[s],c=0===n?2*(t+o):o;a.push(`<path d="${i({...e,offset:0===n?r:p.map((e=>e+t+.5*o))})}" fill="none" stroke="${h}" stroke-width="${c}" />`),t+=o}s&&(o?d.push(`<rect width="${h}" height="${c}" fill="${s}" />`):d.push(`<path d="${u}" fill="${s}" />`)),d.push(...a.reverse())}return d.length?function(e,t,r="c"){return`url('data:image/svg+xml,${function(e){return encodeURIComponent(e).replace(/%20/g," ").replace(/%3D/g,"=").replace(/%3A/g,":").replace(/%2F/g,"/").replace(/%2C/g,",").replace(/%3B/g,";")}((i=(t?[`<defs><clipPath id="${r}"><path d="${t}" /></clipPath></defs>`,`<g clip-path="url(#${r})">${e.join("")}</g>`]:e).join(""),`<svg xmlns="http://www.w3.org/2000/svg">${i}</svg>`))}')`;var i}(d,u,a):"none"}(n))};return n(),r.addElement(e,t,n)},exports.createPath=i,exports.draw=function(e){r.draw(e)},exports.unobserve=function(e){r.unobserve(e)};
