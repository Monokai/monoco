function t(t,e,i,n,r,a){return t?[["c",...e],i?["a",t,t,0,0,1,...n.map((t=>t*i))]:[],["c",...r]]:[["l",...a]]}var e,i=new class{elements=new Map;constructor(){this.elements=new Map}addElement(t,e,i){this.untrack(t);const{track:n=!0,observe:r=!0,draw:a=!0,onResize:s}=e;let h;if(r){let e=null,n=null;h=new ResizeObserver((t=>{for(const r of t){const t=r.target.getBoundingClientRect();e===t.width&&n===t.height||(a&&i({width:t.width,height:t.height}),s?.(t,r.target),e=t.width,n=t.height)}})),h.observe(t)}return n&&this.elements.set(t,{draw:i,element:t,observer:h}),i}draw(t){t?this.elements.get(t)?.draw?.():this.elements.forEach((t=>t.draw?.()))}untrack(t){const e=e=>{const i=this.elements.get(e);if(i){const{observer:e}=i;e?.disconnect(),this.elements.delete(t)}};t?e(t):this.elements.forEach((([,t])=>e(t)))}};function n({width:i=0,height:n=0,smoothing:r=1,radius:a=0,offset:s=0,type:h=e.Squircle,precision:c=4,isArray:o=!1}){if(!i||!n)return o?[]:"";const d=h===e.Squircle,l=Array.isArray(s)?s:[s,s,s,s],[u,g,f,p]=l,m=i-p-g,w=n-u-f,b=.5*Math.min(m,w),M=(Array.isArray(a)?a:[a,a,a,a]).map(((t,e)=>Math.max(0,Math.min(t-l[e],b))));let L;switch(h){case e.Round:L=L=function({width:t,height:e,radii:i,offsets:n}){const[r,,,a]=n,[s,h,c,o]=i;return[["M",a+o,r],["L",t-h+a,r],["A",h,h,0,0,1,t+a,r+h],["L",t+a,e-c+r],["A",c,c,0,0,1,t-c+a,e+r],["L",a+o,e+r],["A",o,o,0,0,1,a,e-o+r],["L",a,r+s],["A",s,s,0,0,1,a+s,r],["Z"]]}({width:m,height:w,radii:M,offsets:l});break;case e.Flat:L=L=function({width:t,height:e,radii:i,offsets:n}){const[r,,,a]=n,[s,h,c,o]=i;return[["M",a+s,r],["L",t-h+a,r],["L",t+a,r+h],["L",t+a,e-c+r],["L",t-c+a,e+r],["L",a+o,e+r],["L",a,e-o+r],["L",a,r+s],["Z"]]}({width:m,height:w,radii:M,offsets:l});break;case e.Squircle:case e.FigmaSquircle:default:L=function({width:e,height:i,smoothing:n,radii:r,offsets:a,preserveSmoothing:s}){const[h,,,c]=a,[o,d,l,u]=r.map((t=>function(t,e,i,n){let r=(1+e)*t;i||(e=Math.min(e,n/t-1),r=Math.min(r,n));const a=.5*Math.PI*(1-e),s=Math.sin(a/2)*t*2**.5,h=.25*Math.PI*e,c=t*Math.tan(.25*(.5*Math.PI-a))*Math.cos(h),o=c*Math.tan(h);let d=(r-s-c-o)/3,l=2*d;if(i&&r>n){const t=n-o-s-c,e=t-t/6;d=Math.min(d,e),l=t-d,r=Math.min(r,n)}return{a:l,b:d,c:c,d:o,p:r,arcLength:s,radius:t,ab:l+d,bc:d+c,abc:l+d+c}}(t,n,s,.5*Math.min(e,i))));return[["M",e-d.p+c,h],...t(d.radius,[d.a,0,d.ab,0,d.abc,d.d],d.arcLength,[1,1],[d.d,d.c,d.d,d.bc,d.d,d.abc],[d.p,0]),["L",e+c,i-l.p+h],...t(l.radius,[0,l.a,0,l.ab,-l.d,l.abc],l.arcLength,[-1,1],[-l.c,l.d,-l.bc,l.d,-l.abc,l.d],[0,l.p]),["L",u.p+c,i+h],...t(u.radius,[-u.a,0,-u.ab,0,-u.abc,-u.d],u.arcLength,[-1,-1],[-u.d,-u.c,-u.d,-u.bc,-u.d,-u.abc],[-u.p,0]),["L",c,o.p+h],...t(o.radius,[0,-o.a,0,-o.ab,o.d,-o.abc],o.arcLength,[1,-1],[o.c,-o.d,o.bc,-o.d,o.abc,-o.d],[0,-o.p]),["Z"]]}({width:m,height:w,smoothing:r,radii:M,offsets:l,preserveSmoothing:d})}return L=L.filter((t=>t[0])).map((([t,...e])=>{const i=e.map((t=>Number.isFinite(t)?Number(t.toFixed(c)):t)),n=[t,o?i:i.join(" ")];return o?n:n.join("")})),o?L:L.join("")}function r(t,e){const r=i=>{if(!e.width||!e.height){const i=t.getBoundingClientRect();e.width=i.width,e.height=i.height}const r={...e,...i};r.isRounded&&(r.width=r.width?Math.round(r.width):void 0,r.height=r.height?Math.round(r.height):void 0),e.clip?t.style.clipPath=`path('${n(r)}')`:(e.color||e.border)&&(t.style.backgroundImage=function(t){const{border:e=[],offset:i=0,strokeDrawType:r=0,color:a,clipID:s}=t,h=[],c=Array.isArray(e?.[0])?e:[e],o=Array.isArray(i)?i:[i,i,i,i],d=n(t);if(c?.length){let e=0;const s=[];for(let a=0;a<c.length;a++){const[h,d]=c[a],l=0===r?2*(e+h):h;s.push(`<path d="${n({...t,offset:0===r?i:o.map((t=>t+e+.5*h))})}" fill="none" stroke="${d}" stroke-width="${l}" />`),e+=h}a&&h.push(`<path d="${d}" fill="${a}" />`),h.push(...s.reverse())}return h.length?function(t,e,i="c"){return`url('data:image/svg+xml,${function(t){return encodeURIComponent(t).replace(/%20/g," ").replace(/%3D/g,"=").replace(/%3A/g,":").replace(/%2F/g,"/").replace(/%2C/g,",").replace(/%3B/g,";")}((n=[`<defs><clipPath id="${i}"><path d="${e}" /></clipPath></defs>`,`<g clip-path="url(#${i})">${t.join("")}</g>`].join(""),`<svg xmlns="http://www.w3.org/2000/svg">${n}</svg>`))}')`;var n}(h,d,s):"none"}(r))};return r(),i.addElement(t,e,r)}function a(t){i.draw(t)}function s(t){i.untrack(t)}!function(t){t.Squircle="squircle",t.FigmaSquircle="figma-squircle",t.Round="round",t.Flat="flat"}(e||(e={}));export{e as CornerType,r as addCorners,n as createPath,a as draw,s as untrack};
