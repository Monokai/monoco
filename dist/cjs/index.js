"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){return t=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},t.apply(this,arguments)};function e(t,e,r){if(r||2===arguments.length)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function r(t,r,n,i,a,o){return t?e(e([e(["c"],r,!0)],[n?e(["a",t,t,0,0,1],i.map((function(t){return t*n})),!0):[]],!1),[e(["c"],a,!0)],!1):[e(["l"],o,!0)]}"function"==typeof SuppressedError&&SuppressedError;var n,i=new(function(){function t(){this.elements=new Map,this.elements=new Map}return t.prototype.addElement=function(t,e,r){this.untrack(t);var n,i=e.track,a=void 0===i||i,o=e.observe,c=void 0===o||o,s=e.draw,d=void 0===s||s,h=e.onResize;if(c){var u=null,l=null;(n=new ResizeObserver((function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e],a=i.target.getBoundingClientRect();u===a.width&&l===a.height||(d&&r({width:a.width,height:a.height}),null==h||h(a,i.target),u=a.width,l=a.height)}}))).observe(t)}return a&&this.elements.set(t,{draw:r,element:t,observer:n}),r},t.prototype.draw=function(t){var e,r;t?null===(r=null===(e=this.elements.get(t))||void 0===e?void 0:e.draw)||void 0===r||r.call(e):this.elements.forEach((function(t){var e;return null===(e=t.draw)||void 0===e?void 0:e.call(t)}))},t.prototype.untrack=function(t){var e=this,r=function(r){var n=e.elements.get(r);if(n){var i=n.observer;null==i||i.disconnect(),e.elements.delete(t)}};t?r(t):this.elements.forEach((function(t){var e=t[1];return r(e)}))},t}());function a(t){var n=t.width,i=void 0===n?0:n,a=t.height,o=void 0===a?0:a,c=t.smoothing,s=void 0===c?1:c,d=t.radius,h=void 0===d?0:d,u=t.offset,l=void 0===u?0:u,p=t.type,f=void 0===p?exports.CornerType.Squircle:p,v=t.precision,g=void 0===v?4:v,m=t.isArray,w=void 0!==m&&m;if(!i||!o)return w?[]:"";var b,y=f===exports.CornerType.Squircle,M=Array.isArray(l)?l:[l,l,l,l],L=M[0],x=M[1],A=M[2],C=i-M[3]-x,S=o-L-A,T=.5*Math.min(C,S),k=(Array.isArray(h)?h:[h,h,h,h]).map((function(t,e){return Math.max(0,Math.min(t-M[e],T))}));switch(f){case exports.CornerType.Round:b=b=function(t){var e=t.width,r=t.height,n=t.radii,i=t.offsets,a=i[0],o=i[3],c=n[0],s=n[1],d=n[2],h=n[3];return[["M",o+h,a],["L",e-s+o,a],["A",s,s,0,0,1,e+o,a+s],["L",e+o,r-d+a],["A",d,d,0,0,1,e-d+o,r+a],["L",o+h,r+a],["A",h,h,0,0,1,o,r-h+a],["L",o,a+c],["A",c,c,0,0,1,o+c,a],["Z"]]}({width:C,height:S,radii:k,offsets:M});break;case exports.CornerType.Flat:b=b=function(t){var e=t.width,r=t.height,n=t.radii,i=t.offsets,a=i[0],o=i[3],c=n[0],s=n[1],d=n[2],h=n[3];return[["M",o+c,a],["L",e-s+o,a],["L",e+o,a+s],["L",e+o,r-d+a],["L",e-d+o,r+a],["L",o+h,r+a],["L",o,r-h+a],["L",o,a+c],["Z"]]}({width:C,height:S,radii:k,offsets:M});break;case exports.CornerType.Squircle:case exports.CornerType.FigmaSquircle:default:b=function(t){var n=t.width,i=t.height,a=t.smoothing,o=t.radii,c=t.offsets,s=t.preserveSmoothing,d=c[0],h=c[3],u=o.map((function(t){return function(t,e,r,n){var i=(1+e)*t;r||(e=Math.min(e,n/t-1),i=Math.min(i,n));var a=.5*Math.PI*(1-e),o=Math.sin(a/2)*t*Math.pow(2,.5),c=.25*Math.PI*e,s=t*Math.tan(.25*(.5*Math.PI-a))*Math.cos(c),d=s*Math.tan(c),h=(i-o-s-d)/3,u=2*h;if(r&&i>n){var l=n-d-o-s,p=l-l/6;u=l-(h=Math.min(h,p)),i=Math.min(i,n)}return{a:u,b:h,c:s,d:d,p:i,arcLength:o,radius:t,ab:u+h,bc:h+s,abc:u+h+s}}(t,a,s,.5*Math.min(n,i))})),l=u[0],p=u[1],f=u[2],v=u[3];return e(e(e(e(e(e(e(e([["M",n-p.p+h,d]],r(p.radius,[p.a,0,p.ab,0,p.abc,p.d],p.arcLength,[1,1],[p.d,p.c,p.d,p.bc,p.d,p.abc],[p.p,0]),!0),[["L",n+h,i-f.p+d]],!1),r(f.radius,[0,f.a,0,f.ab,-f.d,f.abc],f.arcLength,[-1,1],[-f.c,f.d,-f.bc,f.d,-f.abc,f.d],[0,f.p]),!0),[["L",v.p+h,i+d]],!1),r(v.radius,[-v.a,0,-v.ab,0,-v.abc,-v.d],v.arcLength,[-1,-1],[-v.d,-v.c,-v.d,-v.bc,-v.d,-v.abc],[-v.p,0]),!0),[["L",h,l.p+d]],!1),r(l.radius,[0,-l.a,0,-l.ab,l.d,-l.abc],l.arcLength,[1,-1],[l.c,-l.d,l.bc,-l.d,l.abc,-l.d],[0,-l.p]),!0),[["Z"]],!1)}({width:C,height:S,smoothing:s,radii:k,offsets:M,preserveSmoothing:y})}return b=b.filter((function(t){return t[0]})).map((function(t){var e=t[0],r=t.slice(1).map((function(t){return Number.isFinite(t)?Number(t.toFixed(g)):t})),n=[e,w?r:r.join(" ")];return w?n:n.join("")})),w?b:b.join("")}exports.CornerType=void 0,(n=exports.CornerType||(exports.CornerType={})).Squircle="squircle",n.FigmaSquircle="figma-squircle",n.Round="round",n.Flat="flat",exports.addCorners=function(e,r){var n=function(n){if(!r.width||!r.height){var i=e.getBoundingClientRect();r.width=i.width,r.height=i.height}var o=t(t({},r),n);o.isRounded&&(o.width=Math.round(o.width),o.height=Math.round(o.height)),r.clip?e.style.clipPath="path('".concat(a(o),"')"):(r.color||r.border)&&(e.style.backgroundImage=function(e){var r=e.border,n=void 0===r?[]:r,i=e.offset,o=void 0===i?0:i,c=e.strokeDrawType,s=void 0===c?0:c,d=e.color,h=e.clipID,u=[],l=Array.isArray(null==n?void 0:n[0])?n:[n],p=Array.isArray(o)?o:[o,o,o,o],f=a(e);if(null==l?void 0:l.length){for(var v=0,g=[],m=function(r){var n=l[r],i=n[0],c=n[1],d=0===s?2*(v+i):i;g.push('<path d="'.concat(a(t(t({},e),{offset:0===s?o:p.map((function(t){return t+v+.5*i}))})),'" fill="none" stroke="').concat(c,'" stroke-width="').concat(d,'" />')),v+=i},w=0;w<l.length;w++)m(w);d&&u.push('<path d="'.concat(f,'" fill="').concat(d,'" />')),u.push.apply(u,g.reverse())}return u.length?function(t,e,r){return void 0===r&&(r="c"),"url('data:image/svg+xml,".concat(function(t){return encodeURIComponent(t).replace(/%20/g," ").replace(/%3D/g,"=").replace(/%3A/g,":").replace(/%2F/g,"/").replace(/%2C/g,",").replace(/%3B/g,";")}((n=['<defs><clipPath id="'.concat(r,'"><path d="').concat(e,'" /></clipPath></defs>'),'<g clip-path="url(#'.concat(r,')">').concat(t.join(""),"</g>")].join(""),'<svg xmlns="http://www.w3.org/2000/svg">'.concat(n,"</svg>"))),"')");var n}(u,f,h):"none"}(o))};return n(),i.addElement(e,r,n)},exports.createPath=a,exports.draw=function(t){i.draw(t)};
